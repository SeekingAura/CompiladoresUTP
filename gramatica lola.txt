ID : letra letraRecursivo
	|	letra letraRecursivo "'"
	;
	
letraRecursivo : letraRecursivo
	|	letra
	|	digito
	|
	;

INTEGER : digito digitoRecursivo
	;
	
digitoRecursivo : digitoRecursivo
	|	digito
	|
	;

LOGICVALUE : "'0"
	|	"'1"
	;
	
tipoSimple : tipoBasico
	|	ID conjuntoExpresiones
	;

tipoBasico : "BIT"
		| "TS"
		| "OC"
		;
		
conjuntoExpresiones : "(" listaExpresiones ")"
	|	
	;
	
		
listaExpresiones : expresion expresionComa
		;
		
expresionComa :  expresionComa "," expresion
	|	"," expresion
	|
	;
	
tipo : expresionCorchete tipoSimple
	;
	
expresionCorchete : expresionCorchete "[" expresion "]"
	|	"[" expresion "]"
	|
	;

declaracionConstante : ID ":=" expresion ";"
	;
	
declaracionVariable : listaId ":" tipo ";"
	;
	
listaId : ID IDComa
	;
	
IDComa : IDComa "," ID
	|	"," ID
	|
	;
	
selector : selector "." ID
	|	selector "." INTEGER
	|	selector "[" expresion "]"
	|	"." ID
	|	"." INTEGER
	|	"[" expresion "]"
	|
	;
	
factor : ID selector
	|	valorLogico
	|	INTEGER
	|	"~" factor
	|	"â†‘" factor
	|	"(" expresion ")"
	|	"MUX" "(" expresion ":" expresion "," expresion ")"
	|	"MUX" "(" expresion "," expresion ":" expresion "," expresion "," expresion "," expresion)
	|	"REG" "(" expresionComaO expresion ")"
	|	"LATCH" "(" expresion "," expresion ")"
	|	"SR" "(" expresion "," expresion ")"
	;

expresionComaO : expresion ","
	|	
	;
	
termino : factor terminoOperadores
	;
	
terminoOperadores : terminoOperadores simbolosProd factor
	|	simbolosProd factor
	|
	;
	
simbolosProd : "*"
	|	"/"
	|	"DIV"
	|	"MOD"
	;
	
expresion : termino terminoMasMenos
	;
	
terminoMasMenos : terminoMasMenos simbolosMasMenos termino
	|	simbolosMasMenos termino
	|
	;
	
simbolosMasMenos : "+"
	|	"-"
	;
	
asignacion : ID selector ":=" condicionOr expresion
	;
	
condicionOr : condicion "|"
	|	
	;
	
condicion : expresion
	;
	
relacion : expresion simbolosRelacion expresion
	;
	
simbolosRelacion : "="
	|	"#"
	|	"<"
	|	"<="
	|	">"
	|	">="
	;
	
sentenciaSi : "IF" relacion "THEN" sentenciaSecuencia sentenciaSiSino sentenciaSiEntonces "END"
	;

sentenciaSiSino : sentenciaSiSino "ELSIF" relacion "THEN" sentenciaSecuencia
	|	"ELSIF" relacion "THEN" sentenciaSecuencia
	|
	;
	
sentenciaSiEntonces : "ELSE" sentenciaSecuencia
	|	
	;
	
sentenciaPara : "FOR" ID ":=" expresion ".." expresion "DO" sentenciaSecuencia "END"
	;
	
sentencia : asignacion
	|	asignacionUnidad
	|	sentenciaSi
	|	sentenciaPara
	|
	;
	
sentenciaSecuencia : sentencia sentenciaPuntoComa
	;
	
sentenciaPuntoComa : sentenciaPuntoComa ";" sentencia
	|	";" sentencia
	|
	;
	
modulo : "MODULE" ID ";" 
declaracionTipoPuntoComa
declaracionConstanteCONST
declaracionVariableIN
declaracionVariableINOUT 
declaracionVariableOUT 
declaracionVariableVAR 
sentenciaSecuenciaBEGIN 
END ID "."
	;
	
declaracionTipoPuntoComa : declaracionTipoPuntoComa declaracionTipo ";"
	|	declaracionTipo ";"
	|
	;
	
declaracionConstanteCONST : "CONST" declaracionConstanteRecursivo
	|	
	;

declaracionConstanteRecursivo : declaracionConstanteRecursivo declaracionConstante
	|	declaracionConstante
	|
	;
	
declaracionVariableIN : "IN" declaracionVariableRecursivo
	|	
	;

declaracionVariableINOUT : "INOUT" declaracionVariableRecursivo
	|	
	;
	
declaracionVariableOUT : "OUT" declaracionVariableRecursivo
	|	
	;
	
declaracionVariableVAR : "VAR" declaracionVariableRecursivo
	|	
	;
	
sentenciaSecuenciaBEGIN : "BEGIN" sentenciaSecuencia
	|	
	;
	
declaracionVariableRecursivo : declaracionVariableRecursivo declaracionVariable
	|	declaracionVariable
	|
	;
	
tipoFormal : expresionCorcheteP "BIT"
	;
	
expresionCorcheteP : expresionCorcheteP "[" expresionOpcional "]"
	|	"[" expresionOpcional "]"
	|
	;
	
expresionOpcional : expresion
	|	
	;
	
tipoFormalBus : expresionCorcheteP "TS"
	|	expresionCorcheteP "OC"
	;
	
declaracionTipo : "TYPE" ID simboloPor listaIdParentesis ";" 
declaracionConstanteCONST 
tipoFormalIN
tipoFormlINOUT
declaracionVariableOUT 
declaracionVariableVAR 
sentenciaSecuenciaBEGIN 
END ID
	;
	
simboloPor : "*"
	|	
	;

listaIdParentesis : "(" listaId ")"
	|	
	;
	
tipoFormalIN : IN tipoFormallistaId
	|	
	;

tipoFormallistaId : tipoFormallistaId listaId ":" tipoFormal ";"
	|	listaId ":" tipoFormal ";"
	|
	;
	
tipoFormnalINOUT : INOUT tipoFormlBuslistaId
	|
	;
	
tipoFormlBuslistaId : tipoFormlBuslistaId listaId ":" tipoFormalBus ";"
	|	listaId ":" tipoFormalBus ";"
	|
	;

assinacionUnidad : ID selector "(" listaExpresiones ")"